<?php

namespace Icinga\Module\Eventtracker\Modifier;

use Icinga\Module\Eventtracker\Web\Form\ChannelRuleForm;
use InvalidArgumentException;

class ReplaceString extends BaseModifier
{
    protected static ?string $name = 'Replace String';

    protected function simpleTransform($value)
    {
        return str_replace(
            $this->settings->getRequired('search'),
            $this->settings->getRequired('replacement'),
            $value
        );
    }

    public static function extendSettingsForm(ChannelRuleForm $form): void
    {
        $form->addElement('text', 'pattern', [
            'label' => $form->translate('Pattern'),
            'required' => false,
            'description' => 'Replace string pattern'
        ]);
        parent::extendSettingsForm($form); // TODO: Change the autogenerated stub
    }
}
